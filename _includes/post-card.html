<article class="post-card{% if include.featured %} post-card-featured{% endif %}" data-tags="{{ include.post.tags | join: ',' | slugify }}">
  {% if include.post.cover %}
  <div class="post-card-image">
    <a href="{{ include.post.url | relative_url }}" aria-label="Read {{ include.post.title | escape }}">
      <img src="{{ include.post.cover | relative_url }}" alt="{{ include.post.title | escape }}" loading="lazy">
    </a>
    {% if include.post.featured %}
    <span class="featured-badge" aria-label="Featured post">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
      </svg>
    </span>
    {% endif %}
    {% if include.post.tags contains 'podcast' %}
    <span class="podcast-badge" aria-label="Podcast episode">
      <svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor">
        <path d="M440-80v-331q-18-11-29-28.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 23-11 41t-29 28v331h-80ZM204-190q-57-55-90.5-129.5T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 86-33.5 161T756-190l-56-56q46-44 73-104.5T800-480q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 69 27 129t74 104l-57 57Zm113-113q-35-33-56-78.5T240-480q0-100 70-170t170-70q100 0 170 70t70 170q0 53-21 99t-56 78l-57-57q25-23 39.5-54t14.5-66q0-66-47-113t-113-47q-66 0-113 47t-47 113q0 36 14.5 66.5T374-360l-57 57Z"/>
      </svg>
    </span>
    {% endif %}
  </div>
  {% endif %}
  
  <div class="post-card-content">
    <header class="post-card-header">
      {% if include.post.tags.size > 0 %}
      <div class="post-card-tags">
        {% for tag in include.post.tags limit: 2 %}
          <span class="tag-chip tag-chip-small">{{ tag }}</span>
        {% endfor %}
        {% if include.post.tags.size > 2 %}
          <span class="tag-chip tag-chip-small tag-chip-more">+{{ include.post.tags.size | minus: 2 }}</span>
        {% endif %}
      </div>
      {% endif %}
      
      <h3 class="post-card-title">
        <a href="{{ include.post.url | relative_url }}">{{ include.post.title | escape }}</a>
      </h3>
    </header>
    
    <div class="post-card-meta">
      <time class="post-card-date" datetime="{{ include.post.date | date_to_xmlschema }}">
        {{ include.post.date | date: "%b %d, %Y" }}
      </time>
      
      {% if include.post.author %}
      <span class="post-card-author">by {{ include.post.author | escape }}</span>
      {% endif %}
      
      <span class="post-card-reading-time">
        {% assign words = include.post.content | number_of_words %}
        {% assign reading_time = words | divided_by: 200 | plus: 1 %}
        {{ reading_time }} min read
      </span>
    </div>
    
    {% if include.post.excerpt %}
    <p class="post-card-excerpt">{{ include.post.excerpt | strip_html | truncate: 120 | escape }}</p>
    {% endif %}
    
    <footer class="post-card-footer">
      <a href="{{ include.post.url | relative_url }}" class="read-more-link">
        Read more <span aria-hidden="true">&rarr;</span>
      </a>
    </footer>
  </div>
</article>